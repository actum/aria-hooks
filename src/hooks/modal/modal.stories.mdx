import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import { Modal, ModalHookProps, ModalHookReturnProps } from './modal.component';

<Meta title="Aria Component/Modal" />

# Modal

A component that creates a mode that disables the main window but keeps it visible, with the modal window as a child window in front of it. Users must interact with the modal window before they can return to the parent window.

Most commonly it should draw attention to vital pieces of information or block the application flow until the information required to continue is entered.

## Example

<Canvas>
  <Modal />
</Canvas>

## Setup

The `useAriaModal` hook expects the following parameters:

<ArgsTable of={ModalHookProps} sort="requiredFirst" />

The hook returns an object with the following values:

<ArgsTable of={ModalHookReturnProps} />

## Component

In order to create a fully accessible implementation of a modal using `@actum/aria-hooks`, your component should look like the following:

```jsx
import { useAriaModal } from '@actum-digital/aria-hooks';

const Modal = () => {
  const [isOpen, setOpen] = React.useState(false);

  const { modalProps, closeButtonProps, descriptionTextProps } = useAriaModal({
    isOpen,
    onDismiss: () => setOpen(false),
    id: 'modal-test-storybook',
  });

  return (
    <>
      <button className="button--open" onClick={() => setOpen(true)}>
        Open Modal
      </button>

      <div className={`backdrop ${isOpen ? '' : 'backdrop--hidden'}`}>
        <div className="modal" {...modalProps}>
          <h1 {...descriptionTextProps}>Modal Title</h1>
          <button {...closeButtonProps}>Close Modal</button>
        </div>
      </div>
    </>
  );
};
```

## Styles

```css
.backdrop {
  position: fixed;
  left: 0;
  bottom: 0;
  top: 0;
  right: 0;

  display: flex;
  align-items: center;
  justify-content: center;

  background: #0007;
}

.backdrop--hidden {
  display: none;
}

.modal {
  width: 50%;
  height: 50%;
  padding: 10px;

  background: white;
}

button {
  border: 2px solid black;
  padding: 0.5rem 1rem;
  background: none;
  cursor: pointer;
}

.button--open {
  font-size: 1.2rem;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
```
