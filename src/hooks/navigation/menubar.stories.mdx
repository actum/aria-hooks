import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';
import {
  Menubar,
  NavigationPropsComponent,
  NavigationReturnPropsItemProps,
  NavigationReturnPropsMenuItemProps,
  NavigationReturnPropsMenubarProps,
  NavigationReturnPropsSubmenuProps,
} from './menubar.component';

<Meta title="Aria Component/Menubar" />

## Example

<Canvas>
  <Menubar />
</Canvas>

## Setup

The `useAriaNavigation` hook expects the following parameters:

<ArgsTable of={NavigationPropsComponent} sort="requiredFirst" />

The hook returns an object with the following values:

### itemProps

<ArgsTable of={NavigationReturnPropsItemProps} />

### menuItemProps

<ArgsTable of={NavigationReturnPropsMenuItemProps} />

### menubarProps

<ArgsTable of={NavigationReturnPropsMenubarProps} />

### submenuProps

<ArgsTable of={NavigationReturnPropsSubmenuProps} />

## Component

In order to create a fully accessible implementation of a modal, your component should look like the following:

```jsx
import { useAriaNavigation } from '@actum-digital/aria-hooks';

const Navigation = () => {
  const items = [
    { title: 'Home' },
    {
      title: 'Contact',
      items: [{ title: 'Submenu Item 1' }, { title: 'Submenu Item 2' }],
    },
    {
      title: 'About',
      items: [{ title: 'Submenu Item 1' }, { title: 'Submenu Item 2' }],
    },
  ];

  const { menubarProps, menuItemProps, itemProps, submenuProps } =
    useAriaNavigation({
      menubarLabel: 'Main navigation menu',
      id: 'navigation',
    });

  return (
    <nav>
      <ul {...menubarProps}>
        {items.map((item, idx) => (
          <li key={item.title} {...itemProps}>
            {item.items && item.items.length > 0 ? (
              <>
                <span {...menuItemProps(idx, true)}>
                  {item.title}
                  <svg
                    width="19px"
                    height="19px"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                    className="icon btn__icon"
                  >
                    <path d="M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z" />
                  </svg>
                </span>
              </>
            ) : (
              <a {...menuItemProps(idx, false)}>{item.title}</a>
            )}
            {item.items && item.items.length > 0 && (
              <ul {...submenuProps('submenu')} className="submenu">
                {item.items.map((childItem) => (
                  <li key={childItem.title} {...itemProps}>
                    <a {...menuItemProps(-1)}>{childItem.title}</a>
                  </li>
                ))}
              </ul>
            )}
          </li>
        ))}
      </ul>
    </nav>
  );
};
```
